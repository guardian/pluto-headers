{"version":3,"file":"index.es.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/components/AppSwitcher/AppSwitcher.tsx","../src/components/Header/Header.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./AppSwitcher.css\";\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\nimport { Menu, MenuItem, Button } from \"@material-ui/core\";\n\ntype MenuType = \"link\" | \"submenu\";\n\ninterface BaseMenuSettings {\n  type: MenuType;\n  text: string;\n  href: string;\n  adminOnly?: boolean;\n}\n\nexport interface AppSwitcherMenuSettings extends BaseMenuSettings {\n  content?: BaseMenuSettings[];\n}\n\ninterface AppSwitcherProps {\n  menuSettings: AppSwitcherMenuSettings[];\n  isAdmin: boolean;\n  isLoggedIn: boolean;\n  username: string;\n  onLoggedIn: () => void;\n  onLoggedOut: () => void;\n}\n\nexport const AppSwitcher: React.FC<AppSwitcherProps> = (props) => {\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n\n  const openSubmenu = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const closeMenu = () => {\n    setAnchorEl(null);\n  };\n\n  const menuSettings = props.menuSettings || [];\n\n  const getLink = (\n    text: string,\n    href: string,\n    adminOnly: boolean | undefined,\n    index: number\n  ) => (\n    <li\n      key={index}\n      style={{\n        display: adminOnly ? (props.isAdmin ? \"inherit\" : \"none\") : \"inherit\",\n      }}\n    >\n      <Link to={href}>{text}</Link>\n    </li>\n  );\n\n  return (\n    <>\n      {props.isLoggedIn ? (\n        <div className=\"app-switcher-container\">\n          <ul className=\"app-switcher\">\n            {menuSettings.map(\n              ({ type, text, href, adminOnly, content }, index) =>\n                type === \"link\" ? (\n                  getLink(text, href, adminOnly, index)\n                ) : (\n                  <li\n                    key={`${index}-submenu`}\n                    style={{\n                      display: adminOnly\n                        ? props.isAdmin\n                          ? \"inherit\"\n                          : \"none\"\n                        : \"inherit\",\n                    }}\n                  >\n                    <button\n                      className=\"submenu-button\"\n                      aria-controls={`simple-menu-${index}`}\n                      aria-haspopup=\"true\"\n                      onClick={openSubmenu}\n                    >\n                      {text}\n                      <ArrowDropDownIcon\n                        style={{ fontSize: \"16px\" }}\n                      ></ArrowDropDownIcon>\n                    </button>\n                    <Menu\n                      id={`simple-menu-${index}`}\n                      anchorEl={anchorEl}\n                      getContentAnchorEl={null}\n                      anchorOrigin={{\n                        vertical: \"bottom\",\n                        horizontal: \"center\",\n                      }}\n                      transformOrigin={{\n                        vertical: \"top\",\n                        horizontal: \"center\",\n                      }}\n                      keepMounted\n                      open={Boolean(anchorEl)}\n                      onClose={closeMenu}\n                    >\n                      {(content || []).map(\n                        ({ type, text, href, adminOnly }, index) => {\n                          if (type === \"submenu\") {\n                            console.error(\n                              \"You have provided a submenu inside a submenu, nested submenus are not supported!\"\n                            );\n                            return;\n                          }\n                          return (\n                            <MenuItem\n                              key={`${index}-menu-item`}\n                              style={{\n                                display: adminOnly\n                                  ? props.isAdmin\n                                    ? \"inherit\"\n                                    : \"none\"\n                                  : \"inherit\",\n                              }}\n                              component={Link}\n                              to={href}\n                              onClick={() => {\n                                closeMenu();\n                              }}\n                            >\n                              {text}\n                            </MenuItem>\n                          );\n                        }\n                      )}\n                    </Menu>\n                  </li>\n                )\n            )}\n          </ul>\n          <div>\n            <span>\n              You are logged in as{\" \"}\n              <span className=\"username\">{props.username}</span>\n            </span>\n            <span>\n              <Button\n                className=\"login-button\"\n                variant=\"outlined\"\n                size=\"small\"\n                onClick={() => {\n                  if (props.onLoggedOut) {\n                    props.onLoggedOut();\n                  }\n                }}\n              >\n                Logout\n              </Button>\n            </span>\n          </div>\n        </div>\n      ) : (\n        <div className=\"app-switcher-container\">\n          <span className=\"not-logged-in\">\n            You are not currently logged in\n            <Button\n              className=\"login-button\"\n              variant=\"outlined\"\n              size=\"small\"\n              onClick={() => {\n                if (props.onLoggedIn) {\n                  props.onLoggedIn();\n                }\n              }}\n            >\n              Login\n            </Button>\n          </span>\n        </div>\n      )}\n    </>\n  );\n};\n","import React from \"react\";\nimport \"./Header.css\";\n\ninterface HeaderProps {\n  children: React.ReactNode;\n}\n\nexport const Header: React.FC<HeaderProps> = (props) => {\n  return (\n    <>\n      <div className=\"header\">\n        <div className=\"content\">{props.children}</div>\n      </div>\n    </>\n  );\n};\n"],"names":[],"mappings":"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"}